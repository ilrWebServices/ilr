.media__caption,
.field--field-representative-img-caption {
  font-size: var(--cu-ms-1);
  line-height: 1.4;
  margin: .5em auto 0;
  max-width: var(--cu-max-width-section, #{$max-width-section});
}

.field--field-representative-img-caption {
  text-align: right;
}

.cu-media.align-right,
.cu-media.align-left {
  margin: 0 0 var(--cu-vr1) 0;

  @include breakpoint(md) {
    width: 50%;
  }

  .field--field-media-image {
    margin: 0;
  }
}

@include breakpoint(md) {
  .cu-media.align-right {
    margin-left: var(--cu-ps2);
  }

  .cu-media.align-left {
    margin-right: var(--cu-ps2);
  }
}

.cu-card__media .media--position-top .cu-image,
.cu-banner__media .media--position-top .cu-image {
  object-position: top;
}

.cu-card__media .media--position-bottom .cu-image,
.cu-banner__media .media--position-bottom .cu-image {
  object-position: bottom;
}

.paragraph--type--media-deck {
  display: grid;
  gap: 20px;
  margin: var(--cu-component-margin-bottom, var(--cu-vr2)) 0 var(--cu-component-margin-bottom, var(--cu-vr2)) 0;

  .cu-image {
    object-fit: cover;
    width: 100%;
    height: 100%;
  }

  .media__caption {
    margin: 0 0 0 var(--cu-ps1);
  }

  @include breakpoint(sm) {
    grid-template-columns: 1fr 1fr;
    grid-template-rows: repeat(6, 1fr);
    gap: 20px;
    margin-top: var(--cu-component-margin-bottom, var(--cu-vr3));
    margin-bottom: var(--cu-component-margin-bottom, var(--cu-vr3));

    :nth-child(1) {
      grid-row: 1/3;
    }

    :nth-child(2) {
      grid-row: 1/4;
    }

    :nth-child(3) {
      grid-row: 3/5;
    }

    .media__caption {
      margin: 0;
    }

    &--two-right {
      :nth-child(2) {
        order: -1;
      }

      :nth-child(1) {
        order: 0;
      }

      .media__caption {
        margin-left: var(--cu-ps1);
      }
    }
  }

  @include breakpoint(md) {
    grid-template-rows: repeat(12, 1fr);
    gap: 40px;

    :nth-child(1) {
      grid-row: 1/6;
    }

    :nth-child(2) {
      grid-row: 1/11;
    }

    :nth-child(3) {
      grid-row: 6/-1;
    }
  }

  // The following may be needed if we render the media entities.
  // @see paragraph--media-deck.html.twig
  // *:not(.cu-image) {
  //   display: contents;
  // }
}
